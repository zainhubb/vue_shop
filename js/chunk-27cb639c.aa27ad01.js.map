{"version":3,"sources":["webpack:///./src/components/goods/categories.vue?c19f","webpack:///src/components/goods/categories.vue","webpack:///./src/components/goods/categories.vue?7b49","webpack:///./src/components/goods/categories.vue","webpack:///./src/api/goods_api.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","on","showadddialog","staticStyle","catelist","children","scopedSlots","_u","key","fn","scope","row","cat_deleted","staticClass","_e","cat_level","$event","showeditdialog","removecatebyid","cat_id","queryinfo","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","ref","adddialogVisible","resetaddcateform","addcateForm","addRules","model","value","callback","$$v","$set","expression","parentcatelist","cascaderporps","parentcatechange","selectedkeys","slot","addCate","editdialogVisible","editcateForm","editcate","staticRenderFns","data","type","cat_name","cat_pid","expandTrigger","label","checkStrictly","created","getcatelist","methods","res","meta","status","newpagenum","newpagesize","getParentcatelist","length","console","log","$refs","addcateFormRef","validate","valid","resetFields","editcateFormRef","component","getcatelist_api","service","url","method","getinfo_api","id","params","addgood_api","getcatelist2_api","getParentcatelist_api","getcate_api","addCate_api","removecatebyid_api","editcate_api","getgoodslist_api","removegoodbyid_api","addparams_api","saveattrvals_api","cateid","attr_id","showeditdialog_api","editparams_api","removeparamsbyid_api"],"mappings":"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","file":"js/chunk-27cb639c.aa27ad01.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品分类\")])],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.showadddialog}},[_vm._v(\"添加分类\")]),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"20px\"},attrs:{\"data\":_vm.catelist,\"row-key\":\"cat_id\",\"border\":\"\",\"tree-props\":{children: 'children'}}},[_c('el-table-column',{attrs:{\"prop\":\"cat_name\",\"label\":\"分类名称\",\"sortable\":\"\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"cat_deleted\",\"label\":\"是否有效\",\"sortable\":\"\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.cat_deleted === false)?_c('i',{staticClass:\"el-icon-success\",staticStyle:{\"color\":\"green\"}}):(scope.row.cat_deleted === true)?_c('i',{staticClass:\"el-icon-error\",staticStyle:{\"color\":\"red\"}}):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"cat_level\",\"label\":\"分类等级\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.cat_level===0)?_c('el-tag',[_vm._v(\"等级一\")]):(scope.row.cat_level===1)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"等级二\")]):(scope.row.cat_level===2)?_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"等级三\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{staticClass:\"item\",attrs:{\"content\":\"编辑\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{staticStyle:{\"margin\":\"0 15px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.showeditdialog(scope.row)}}})],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"content\":\"删除\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{staticStyle:{\"margin\":\"0 15px\"},attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.removecatebyid(scope.row.cat_id)}}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryinfo.pagenum,\"page-sizes\":[1,2,5,10],\"page-size\":_vm.queryinfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{ref:\"addcateFormRef\",attrs:{\"title\":\"添加分类\",\"visible\":_vm.adddialogVisible,\"width\":\"45%\"},on:{\"update:visible\":function($event){_vm.adddialogVisible=$event},\"close\":_vm.resetaddcateform}},[_c('el-form',{ref:\"addcateFormRef\",attrs:{\"model\":_vm.addcateForm,\"rules\":_vm.addRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"cat_name\"}},[_c('el-input',{model:{value:(_vm.addcateForm.cat_name),callback:function ($$v) {_vm.$set(_vm.addcateForm, \"cat_name\", $$v)},expression:\"addcateForm.cat_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"父级分类\"}},[_c('el-cascader',{attrs:{\"options\":_vm.parentcatelist,\"props\":_vm.cascaderporps,\"clearable\":\"\"},on:{\"change\":_vm.parentcatechange},model:{value:(_vm.selectedkeys),callback:function ($$v) {_vm.selectedkeys=$$v},expression:\"selectedkeys\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.adddialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addCate}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"编辑分类\",\"visible\":_vm.editdialogVisible,\"width\":\"45%\"},on:{\"update:visible\":function($event){_vm.editdialogVisible=$event}}},[_c('el-form',{ref:\"editcateFormRef\",attrs:{\"model\":_vm.editcateForm,\"rules\":_vm.addRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"cat_name\"}},[_c('el-input',{model:{value:(_vm.editcateForm.cat_name),callback:function ($$v) {_vm.$set(_vm.editcateForm, \"cat_name\", $$v)},expression:\"editcateForm.cat_name\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editdialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editcate}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-card>\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n        <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n        <el-breadcrumb-item>商品分类</el-breadcrumb-item>\n      </el-breadcrumb>\n      <el-button type=\"primary\" @click=\"showadddialog\">添加分类</el-button>\n      <el-table\n        :data=\"catelist\"\n        style=\"width: 100%;margin-bottom: 20px;\"\n        row-key=\"cat_id\"\n        border\n        :tree-props=\"{children: 'children'}\"\n      >\n        <el-table-column prop=\"cat_name\" label=\"分类名称\" sortable width=\"180\"></el-table-column>\n        <el-table-column prop=\"cat_deleted\" label=\"是否有效\" sortable width=\"180\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <i class=\"el-icon-success\" v-if=\"scope.row.cat_deleted === false\" style=\"color:green\"></i>\n            <i class=\"el-icon-error\" v-else-if=\"scope.row.cat_deleted === true\" style=\"color:red\"></i>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"cat_level\" label=\"分类等级\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-tag v-if=\"scope.row.cat_level===0\">等级一</el-tag>\n            <el-tag type=\"success\" v-else-if=\"scope.row.cat_level===1\">等级二</el-tag>\n            <el-tag type=\"warning\" v-else-if=\"scope.row.cat_level===2\">等级三</el-tag>\n          </template>\n        </el-table-column>\n        <!-- 两个操作按钮 -->\n        <el-table-column label=\"操作\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-tooltip class=\"item\" content=\"编辑\" placement=\"top\" :enterable=\"false\">\n              <el-button\n                type=\"primary\"\n                icon=\"el-icon-edit\"\n                size=\"mini\"\n                circle\n                @click=\"showeditdialog(scope.row)\"\n                style=\"margin:0 15px\"\n              ></el-button>\n            </el-tooltip>\n            <el-tooltip class=\"item\" content=\"删除\" placement=\"top\" :enterable=\"false\">\n              <el-button\n                type=\"danger\"\n                icon=\"el-icon-delete\"\n                size=\"mini\"\n                circle\n                @click=\"removecatebyid(scope.row.cat_id)\"\n                style=\"margin:0 15px\"\n              ></el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"queryinfo.pagenum\"\n        :page-sizes=\"[1,2,5,10]\"\n        :page-size=\"queryinfo.pagesize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      ></el-pagination>\n    </el-card>\n    <!-- 添加分类对话框 -->\n    <el-dialog\n      title=\"添加分类\"\n      :visible.sync=\"adddialogVisible\"\n      width=\"45%\"\n      @close=\"resetaddcateform\"\n      ref=\"addcateFormRef\"\n    >\n      <el-form :model=\"addcateForm\" :rules=\"addRules\" ref=\"addcateFormRef\" label-width=\"100px\">\n        <el-form-item label=\"分类名称\" prop=\"cat_name\">\n          <el-input v-model=\"addcateForm.cat_name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"父级分类\">\n          <el-cascader\n            v-model=\"selectedkeys\"\n            :options=\"parentcatelist\"\n            :props=\"cascaderporps\"\n            @change=\"parentcatechange\"\n            clearable\n          ></el-cascader>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"adddialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addCate\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <!-- 编辑分类对话框 -->\n    <el-dialog title=\"编辑分类\" :visible.sync=\"editdialogVisible\" width=\"45%\">\n      <el-form :model=\"editcateForm\" :rules=\"addRules\" label-width=\"100px\" ref=\"editcateFormRef\">\n        <el-form-item label=\"分类名称\" prop=\"cat_name\">\n          <el-input v-model=\"editcateForm.cat_name\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editdialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"editcate\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  getcatelist2_api,\n  getParentcatelist_api,\n  getcate_api,\n  addCate_api,\n  removecatebyid_api,\n  editcate_api,\n} from \"../../api/goods_api\";\nexport default {\n  data() {\n    return {\n      queryinfo: {\n        type: 3,\n        pagenum: 1,\n        pagesize: 5,\n      },\n      // 商品分类的数据列表\n      catelist: [],\n      // 总数据条数\n      total: 0,\n      // 控制添加分类对话框显示与否\n      adddialogVisible: false,\n      // 控制编辑分类对话框显示与否\n      editdialogVisible: false,\n      // 添加分类的表单数据对象\n      addcateForm: {\n        cat_name: \"\",\n        cat_pid: 0,\n        cat_level: 0,\n      },\n      editcateForm: {},\n      addRules: {\n        cat_name: [\n          { required: true, message: \"请输入分类名称\", trigger: \"blur\" },\n        ],\n      },\n      // 父级分类列表\n      parentcatelist: [],\n      cascaderporps: {\n        value: \"cat_id\",\n        expandTrigger: \"hover\",\n        label: \"cat_name\",\n        children: \"children\",\n        checkStrictly: \"true\",\n      },\n      // 级联选择器中选择的分类\n      selectedkeys: [],\n    };\n  },\n  created() {\n    this.getcatelist();\n  },\n  methods: {\n    // 获取商品分类数据\n    getcatelist() {\n      getcatelist2_api(this.queryinfo).then((res) => {\n        if (res.data.meta.status !== 200) {\n          return this.$message.error(\"商品分类获取失败!\");\n        }\n        // 把商品分类数据保存\n        this.catelist = res.data.data.result;\n        // 为总数据条数赋值\n        this.total = res.data.data.total;\n      });\n    },\n    handleCurrentChange(newpagenum) {\n      //监听页码值的变化\n      this.queryinfo.pagenum = newpagenum;\n      this.getcatelist();\n    },\n    handleSizeChange(newpagesize) {\n      //监听每页数据条数变化\n      this.queryinfo.pagesize = newpagesize;\n      this.getcatelist();\n    },\n    showadddialog() {\n      //先获取父级分类数据再展示对话框\n      this.getParentcatelist();\n      this.adddialogVisible = true;\n    },\n    showeditdialog(cate) {\n      getcate_api(cate.cat_id).then((res) => {\n        if (res.data.meta.status !== 200) {\n          return this.$message.error(\"获取分类信息失败\");\n        }\n        this.editcateForm = res.data.data;\n        this.editdialogVisible = true;\n      });\n    },\n    // 获取父级分类的数据列表\n    getParentcatelist() {\n      getParentcatelist_api({ type: 2 }).then((res) => {\n        if (res.data.meta.status !== 200) {\n          return this.$message.error(\"获取父级分类失败!\");\n        }\n        this.parentcatelist = res.data.data;\n      });\n    },\n    parentcatechange() {\n      // 如果selectedkeys数组length大于0,则表示已经选择某个分类\n      if (this.selectedkeys.length > 0) {\n        this.addcateForm.cat_pid = this.selectedkeys[\n          this.selectedkeys.length - 1\n        ];\n        this.addcateForm.cat_level = this.selectedkeys.length;\n      }\n    },\n    addCate() {\n      console.log(this.addcateForm);\n      this.$refs.addcateFormRef.validate( (valid) => {\n        if (!valid) return;\n\n        addCate_api(this.addcateForm).then((res) => {\n          if (res.data.meta.status !== 201) {\n            return this.$message.error(\"添加分类失败!\");\n          }\n          this.$message.success(\"添加分类成功!\");\n          this.getcatelist();\n          this.adddialogVisible = false;\n        });\n      });\n    },\n    resetaddcateform() {\n      this.$refs.addcateFormRef.resetFields();\n      this.selectedkeys = [];\n      (this.addcateForm.cat_pid = 0), (this.addcateForm.cat_level = 0);\n    },\n    editcate() {\n      this.$refs.editcateFormRef.validate( (valid) => {\n        if (!valid) return;\n        editcate_api(this.editcateForm.cat_id, {\n          cat_name: this.editcateForm.cat_name,\n        }).then((res) => {\n          if (res.data.meta.status !== 200) {\n            return this.$message.error(\"修改分类失败!\");\n          }\n          this.$message.success(\"修改分类成功!\");\n          this.getcatelist();\n          this.editdialogVisible = false;\n        });\n      });\n    },\n    async removecatebyid(id) {\n      const confirmresult = await this.$confirm(\n        \"此操作将永久删除该商品分类, 是否继续?\",\n        \"提示\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n        }\n      ).catch((err) => err);\n      if (confirmresult !== \"confirm\") {\n        return this.$message.info(\"取消删除\");\n      }\n      removecatebyid_api(id).then((res) => {\n        if (res.data.meta.status !== 200) {\n          return this.$message.error(\"删除失败!\");\n        }\n        this.$message.success(\"删除成功!\");\n        this.getcatelist();\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./categories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./categories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./categories.vue?vue&type=template&id=462427d2&scoped=true&\"\nimport script from \"./categories.vue?vue&type=script&lang=js&\"\nexport * from \"./categories.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"462427d2\",\n  null\n  \n)\n\nexport default component.exports","import service from './baseaxios'\nexport function getcatelist_api() {\n    return service({\n        url: '/categories',\n        method: 'get'\n    })\n}\n\nexport function getinfo_api(id, data) {\n    return service({\n        url: `categories/${id}/attributes`,\n        method: 'get',\n        params: data\n    })\n}\n\nexport function addgood_api(data) {\n    return service({\n        url: '/goods',\n        method: 'post',\n        data: data\n    })\n}\n\nexport function getcatelist2_api(data) {\n    return service({\n        url: '/categories',\n        method: 'get',\n        params: data\n    })\n}\n\nexport function getParentcatelist_api(data) {\n    return service({\n        url: '/categories',\n        method: 'get',\n        params: data\n    })\n}\n\nexport function getcate_api(id) {\n    return service({\n        url: '/categories/' + id,\n        method: 'get',\n    })\n}\nexport function addCate_api(data) {\n    return service({\n        url: '/categories',\n        method: 'post',\n        data: data\n    })\n}\n\nexport function removecatebyid_api(id) {\n    return service({\n        url: '/categories/' + id,\n        method: 'delete',\n    })\n}\n\nexport function editcate_api(id, data) {\n    return service({\n        url: '/categories/' + id,\n        method: 'put',\n        data: data\n    })\n}\nexport function getgoodslist_api(data) {\n    return service({\n        url: '/goods',\n        method: 'get',\n        params: data\n    })\n}\n\nexport function removegoodbyid_api(id) {\n    return service({\n        url: '/goods/' + id,\n        method: 'delete',\n    })\n} \n\nexport function addparams_api(id, data) {\n    return service({\n        url: `/categories/${id}/attributes`,\n        method: 'post',\n        data: data\n    })\n}\nexport function saveattrvals_api(cateid,attr_id,data){\n    return service({\n        url:`categories/${cateid}/attributes/${attr_id}`,\n        method:'put',\n        data:data\n    })\n}\nexport function showeditdialog_api(cateid,attr_id,data){\n    return service({\n        url:`categories/${cateid}/attributes/${attr_id}`,\n        method:'get',\n        params:data\n    })\n}\n\nexport function editparams_api(cateid,attr_id,data){\n    return service({\n        url:`categories/${cateid}/attributes/${attr_id}`,\n        method:'put',\n        data:data\n    })\n}\nexport function removeparamsbyid_api(cateid,id){\n    return service({\n        url:`categories/${cateid}/attributes/${id}`,\n        method:'delete'\n    })\n}"],"sourceRoot":""}