{"version":3,"sources":["webpack:///./src/components/goods/goods.vue?b8ff","webpack:///src/components/goods/goods.vue","webpack:///./src/components/goods/goods.vue?15ba","webpack:///./src/components/goods/goods.vue","webpack:///./src/api/goods_api.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","on","getgoodslist","model","value","queryinfo","callback","$$v","$set","expression","slot","gotoadd","goodslist","scopedSlots","_u","key","fn","scope","_s","_f","row","add_time","staticClass","$event","removegoodbyid","goods_id","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","staticRenderFns","data","query","created","methods","res","meta","status","newpagenum","newpagesize","$router","push","component","getcatelist_api","service","url","method","getinfo_api","id","params","addgood_api","getcatelist2_api","getParentcatelist_api","getcate_api","addCate_api","removecatebyid_api","editcate_api","getgoodslist_api","removegoodbyid_api","addparams_api","saveattrvals_api","cateid","attr_id","showeditdialog_api","editparams_api","removeparamsbyid_api"],"mappings":"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","file":"js/chunk-b7380b18.d3945bf7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品列表\")])],1),_c('el-row',{attrs:{\"gutter\":25}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":true},on:{\"clear\":_vm.getgoodslist},model:{value:(_vm.queryinfo.query),callback:function ($$v) {_vm.$set(_vm.queryinfo, \"query\", $$v)},expression:\"queryinfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getgoodslist},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":5}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.gotoadd}},[_vm._v(\"添加商品\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.goodslist,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\",\"align\":\"center\",\"width\":\"600px\"}}),_c('el-table-column',{attrs:{\"label\":\"商品价格\",\"prop\":\"goods_price\",\"align\":\"center\",\"width\":\"100px\"}}),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"prop\":\"add_time\",\"align\":\"center\",\"width\":\"150px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"dateformat\")((scope.row.add_time * 1000))))]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{staticClass:\"item\",attrs:{\"content\":\"删除\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.removegoodbyid(scope.row.goods_id)}}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryinfo.pagenum,\"page-sizes\":[10, 20, 50],\"page-size\":_vm.queryinfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-card>\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n        <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n        <el-breadcrumb-item>商品列表</el-breadcrumb-item>\n      </el-breadcrumb>\n      <el-row :gutter=\"25\">\n        <el-col :span=\"8\">\n          <el-input\n            placeholder=\"请输入内容\"\n            :clearable=\"true\"\n            v-model=\"queryinfo.query\"\n            @clear=\"getgoodslist\"\n          >\n            <el-button\n              slot=\"append\"\n              icon=\"el-icon-search\"\n              @click=\"getgoodslist\"\n            ></el-button>\n          </el-input>\n        </el-col>\n        <el-col :span=\"5\">\n          <el-button type=\"primary\" @click=\"gotoadd\">添加商品</el-button>\n        </el-col>\n      </el-row>\n      <el-table :data=\"goodslist\" border stripe>\n        <el-table-column type=\"index\" align=\"center\"></el-table-column>\n        <el-table-column\n          label=\"商品名称\"\n          prop=\"goods_name\"\n          align=\"center\"\n          width=\"600px\"\n        ></el-table-column>\n        <el-table-column\n          label=\"商品价格\"\n          prop=\"goods_price\"\n          align=\"center\"\n          width=\"100px\"\n        ></el-table-column>\n        <el-table-column\n          label=\"创建时间\"\n          prop=\"add_time\"\n          align=\"center\"\n          width=\"150px\"\n        >\n          <template slot-scope=\"scope\">{{\n            (scope.row.add_time * 1000) | dateformat\n          }}</template>\n        </el-table-column>\n        <el-table-column label=\"操作\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-tooltip\n              class=\"item\"\n              content=\"删除\"\n              placement=\"top\"\n              :enterable=\"false\"\n            >\n              <el-button\n                type=\"danger\"\n                icon=\"el-icon-delete\"\n                size=\"mini\"\n                circle\n                @click=\"removegoodbyid(scope.row.goods_id)\"\n              ></el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"queryinfo.pagenum\"\n        :page-sizes=\"[10, 20, 50]\"\n        :page-size=\"queryinfo.pagesize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      ></el-pagination>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { getgoodslist_api, removegoodbyid_api } from \"../../api/goods_api\";\nexport default {\n  data() {\n    return {\n      // 查询参数对象\n      queryinfo: {\n        query: \"\",\n        pagenum: 1,\n        pagesize: 10,\n      },\n      // 获取到的商品数据列表\n      goodslist: [],\n      total: 0,\n    };\n  },\n  created() {\n    this.getgoodslist();\n  },\n  methods: {\n    getgoodslist() {\n      getgoodslist_api(this.queryinfo).then((res) => {\n        if (res.data.meta.status !== 200) {\n          return this.$message.error(\"获取商品失败!\");\n        }\n        this.goodslist = res.data.data.goods;\n        this.total = res.data.data.total;\n      });\n    },\n    handleCurrentChange(newpagenum) {\n      this.queryinfo.pagenum = newpagenum;\n      this.getgoodslist();\n    },\n    handleSizeChange(newpagesize) {\n      this.queryinfo.pagesize = newpagesize;\n      this.getgoodslist();\n    },\n    async removegoodbyid(id) {\n      const confirmresult = await this.$confirm(\n        \"此操作将永久删除该用户, 是否继续?\",\n        \"提示\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n        }\n      ).catch((err) => err);\n      if (confirmresult !== \"confirm\") {\n        return this.$message.info(\"取消删除\");\n      }\n      removegoodbyid_api(id).then((res) => {\n        if (res.data.meta.status !== 200) {\n          return this.$message.error(\"删除失败!\");\n        }\n        this.$message.success(\"删除成功!\");\n        this.getgoodslist();\n      });\n    },\n    gotoadd() {\n      this.$router.push(\"/goods/add\");\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./goods.vue?vue&type=template&id=3f9c8dae&scoped=true&\"\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f9c8dae\",\n  null\n  \n)\n\nexport default component.exports","import service from './baseaxios'\nexport function getcatelist_api() {\n    return service({\n        url: '/categories',\n        method: 'get'\n    })\n}\n\nexport function getinfo_api(id, data) {\n    return service({\n        url: `categories/${id}/attributes`,\n        method: 'get',\n        params: data\n    })\n}\n\nexport function addgood_api(data) {\n    return service({\n        url: '/goods',\n        method: 'post',\n        data: data\n    })\n}\n\nexport function getcatelist2_api(data) {\n    return service({\n        url: '/categories',\n        method: 'get',\n        params: data\n    })\n}\n\nexport function getParentcatelist_api(data) {\n    return service({\n        url: '/categories',\n        method: 'get',\n        params: data\n    })\n}\n\nexport function getcate_api(id) {\n    return service({\n        url: '/categories/' + id,\n        method: 'get',\n    })\n}\nexport function addCate_api(data) {\n    return service({\n        url: '/categories',\n        method: 'post',\n        data: data\n    })\n}\n\nexport function removecatebyid_api(id) {\n    return service({\n        url: '/categories/' + id,\n        method: 'delete',\n    })\n}\n\nexport function editcate_api(id, data) {\n    return service({\n        url: '/categories/' + id,\n        method: 'put',\n        data: data\n    })\n}\nexport function getgoodslist_api(data) {\n    return service({\n        url: '/goods',\n        method: 'get',\n        params: data\n    })\n}\n\nexport function removegoodbyid_api(id) {\n    return service({\n        url: '/goods/' + id,\n        method: 'delete',\n    })\n} \n\nexport function addparams_api(id, data) {\n    return service({\n        url: `/categories/${id}/attributes`,\n        method: 'post',\n        data: data\n    })\n}\nexport function saveattrvals_api(cateid,attr_id,data){\n    return service({\n        url:`categories/${cateid}/attributes/${attr_id}`,\n        method:'put',\n        data:data\n    })\n}\nexport function showeditdialog_api(cateid,attr_id,data){\n    return service({\n        url:`categories/${cateid}/attributes/${attr_id}`,\n        method:'get',\n        params:data\n    })\n}\n\nexport function editparams_api(cateid,attr_id,data){\n    return service({\n        url:`categories/${cateid}/attributes/${attr_id}`,\n        method:'put',\n        data:data\n    })\n}\nexport function removeparamsbyid_api(cateid,id){\n    return service({\n        url:`categories/${cateid}/attributes/${id}`,\n        method:'delete'\n    })\n}"],"sourceRoot":""}