(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c030589"],{"01dc":function(t,e,r){"use strict";var a=r("e9a9"),n=r.n(a);n.a},1276:function(t,e,r){"use strict";var a=r("d784"),n=r("44e7"),o=r("825a"),i=r("1d80"),c=r("4840"),s=r("8aa5"),l=r("50c4"),u=r("14c3"),d=r("9263"),f=r("d039"),p=[].push,g=Math.min,h=4294967295,m=!f((function(){return!RegExp(h,"y")}));a("split",2,(function(t,e,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var a=String(i(this)),o=void 0===r?h:r>>>0;if(0===o)return[];if(void 0===t)return[a];if(!n(t))return e.call(a,t,o);var c,s,l,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,m=new RegExp(t.source,f+"g");while(c=d.call(m,a)){if(s=m.lastIndex,s>g&&(u.push(a.slice(g,c.index)),c.length>1&&c.index<a.length&&p.apply(u,c.slice(1)),l=c[0].length,g=s,u.length>=o))break;m.lastIndex===c.index&&m.lastIndex++}return g===a.length?!l&&m.test("")||u.push(""):u.push(a.slice(g)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var n=i(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,n,r):a.call(String(n),e,r)},function(t,n){var i=r(a,t,this,n,a!==e);if(i.done)return i.value;var d=o(t),f=String(this),p=c(d,RegExp),b=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),x=new p(m?d:"^(?:"+d.source+")",v),_=void 0===n?h:n>>>0;if(0===_)return[];if(0===f.length)return null===u(x,f)?[f]:[];var y=0,E=0,S=[];while(E<f.length){x.lastIndex=m?E:0;var F,k=u(x,m?f:f.slice(E));if(null===k||(F=g(l(x.lastIndex+(m?0:E)),f.length))===y)E=s(f,E,b);else{if(S.push(f.slice(y,E)),S.length===_)return S;for(var O=1;O<=k.length-1;O++)if(S.push(k[O]),S.length===_)return S;E=y=F}}return S.push(f.slice(y)),S}]}),!m)},"14c3":function(t,e,r){var a=r("c6b6"),n=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var o=r.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"159b":function(t,e,r){var a=r("da84"),n=r("fdbc"),o=r("17c2"),i=r("9112");for(var c in n){var s=a[c],l=s&&s.prototype;if(l&&l.forEach!==o)try{i(l,"forEach",o)}catch(u){l.forEach=o}}},"17c2":function(t,e,r){"use strict";var a=r("b727").forEach,n=r("a640"),o=r("ae40"),i=n("forEach"),c=o("forEach");t.exports=i&&c?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,r){"use strict";var a=r("23e7"),n=r("17c2");a({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"44e7":function(t,e,r){var a=r("861d"),n=r("c6b6"),o=r("b622"),i=o("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==n(t))}},"5f2a":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-card",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),r("el-breadcrumb-item",[t._v("商品管理")]),r("el-breadcrumb-item",[t._v("添加商品")])],1),r("el-alert",{attrs:{title:"添加商品",type:"info","show-icon":"",closable:!1,center:""}}),r("el-steps",{staticStyle:{"margin-top":"20px"},attrs:{space:200,active:t.activeindex-0,"finish-status":"success","align-center":""}},[r("el-step",{attrs:{title:"基本信息"}}),r("el-step",{attrs:{title:"商品参数"}}),r("el-step",{attrs:{title:"商品属性"}}),r("el-step",{attrs:{title:"商品图片"}}),r("el-step",{attrs:{title:"商品描述"}})],1),r("el-form",{ref:"addFormRef",attrs:{model:t.addForm,rules:t.addrules,"label-width":"100px","label-position":"top"}},[r("el-tabs",{attrs:{"tab-position":"left","before-leave":t.beforetableave},on:{"tab-click":t.tabclicked},model:{value:t.activeindex,callback:function(e){t.activeindex=e},expression:"activeindex"}},[r("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[r("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[r("el-input",{model:{value:t.addForm.goods_name,callback:function(e){t.$set(t.addForm,"goods_name",e)},expression:"addForm.goods_name"}})],1),r("el-form-item",{attrs:{label:"商品价格",prop:"goods_price"}},[r("el-input",{attrs:{type:"number"},model:{value:t.addForm.goods_price,callback:function(e){t.$set(t.addForm,"goods_price",e)},expression:"addForm.goods_price"}})],1),r("el-form-item",{attrs:{label:"商品重量",prop:"goods_weight"}},[r("el-input",{attrs:{type:"number"},model:{value:t.addForm.goods_weight,callback:function(e){t.$set(t.addForm,"goods_weight",e)},expression:"addForm.goods_weight"}})],1),r("el-form-item",{attrs:{label:"商品数量",prop:"goods_number"}},[r("el-input",{attrs:{type:"number"},model:{value:t.addForm.goods_number,callback:function(e){t.$set(t.addForm,"goods_number",e)},expression:"addForm.goods_number"}})],1),r("el-form-item",{attrs:{label:"商品分类",prop:"goods_cat"}},[r("el-cascader",{staticStyle:{"margin-left":"10px"},attrs:{options:t.catelist,props:t.cascaderporps,clearable:""},on:{change:t.handlechange},model:{value:t.addForm.goods_cat,callback:function(e){t.$set(t.addForm,"goods_cat",e)},expression:"addForm.goods_cat"}})],1)],1),r("el-tab-pane",{attrs:{label:"商品参数",name:"1"}},t._l(t.manytabledata,(function(e){return r("el-form-item",{key:e.attr_id,attrs:{label:e.attr_name}},[r("el-checkbox-group",{model:{value:e.attr_vals,callback:function(r){t.$set(e,"attr_vals",r)},expression:"item.attr_vals"}},t._l(e.attr_vals,(function(t,e){return r("el-checkbox",{key:e,attrs:{label:t,border:""}})})),1)],1)})),1),r("el-tab-pane",{attrs:{label:"商品属性",name:"2"}},t._l(t.onlytabledata,(function(e){return r("el-form-item",{key:e.attr_id,attrs:{label:e.attr_name}},[r("el-input",{model:{value:e.attr_vals,callback:function(r){t.$set(e,"attr_vals",r)},expression:"item.attr_vals"}})],1)})),1),r("el-tab-pane",{attrs:{label:"商品图片",name:"3"}},[r("el-upload",{attrs:{action:t.uploadurl,"on-remove":t.handleRemove,"list-type":"picture",headers:t.headerObj,"on-success":t.handleSuccess}},[r("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),r("el-tab-pane",{attrs:{label:"商品描述",name:"4"}},[r("quill-editor",{model:{value:t.addForm.goods_introduce,callback:function(e){t.$set(t.addForm,"goods_introduce",e)},expression:"addForm.goods_introduce"}}),r("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:t.addgood}},[t._v("添加商品")])],1)],1)],1)],1)],1)},n=[],o=(r("c740"),r("4160"),r("a15b"),r("a434"),r("ac1f"),r("1276"),r("159b"),r("dc10")),i=r("60bb"),c=r.n(i),s={data:function(){return{activeindex:"0",addForm:{goods_name:"",goods_price:"",goods_weight:"",goods_number:"",goods_cat:[],pics:[],goods_introduce:""},catelist:[],selectedkeys:[],cascaderporps:{value:"cat_id",expandTrigger:"hover",label:"cat_name",children:"children"},addrules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],goods_price:[{required:!0,message:"请输入商品价格",trigger:"blur"}],goods_number:[{required:!0,message:"请输入商品数量",trigger:"blur"}],goods_weight:[{required:!0,message:"请输入商品重量",trigger:"blur"}],goods_cat:[{required:!0,message:"请选择商品分类",trigger:"blur"}]},manytabledata:[],onlytabledata:[],uploadurl:"http://127.0.0.1:8888/api/private/v1/upload",headerObj:{Authorization:window.sessionStorage.getItem("token")}}},created:function(){this.getcatelist()},methods:{getcatelist:function(){var t=this;Object(o["i"])().then((function(e){if(200!==e.data.meta.status)return t.$message.error("获取商品分类失败!");t.catelist=e.data.data}))},handlechange:function(){3!==this.addForm.goods_cat.length&&(this.addForm.goods_cat=[])},beforetableave:function(t,e){if("0"===e&&3!==this.addForm.goods_cat.length)return this.$message.error("请先选择商品分类!"),!1},tabclicked:function(){var t=this;console.log(this.activeindex),"1"===this.activeindex?Object(o["k"])(this.cateid,{sel:"many"}).then((function(e){200!==e.data.meta.status&&t.$message.error("获取动态参数列表失败!"),e.data.data.forEach((function(t){t.attr_vals=0===t.attr_vals.length?[]:t.attr_vals.split(" ")})),t.manytabledata=e.data.data})):"2"===this.activeindex&&Object(o["k"])(this.cateid,{sel:"only"}).then((function(e){200!==e.data.meta.status&&t.$message.error("获取静态列表失败!"),t.onlytabledata=e.data.data}))},handlePreview:function(){},handleRemove:function(t){t.response.data.tmp_path;var e=this.addForm.pics.findIndex((function(t){t.pic}));this.addForm.pics.splice(e,1)},handleSuccess:function(t){var e={pic:t.data.tmp_path};this.addForm.pics.push(e)},addgood:function(){var t=this;this.$refs.addFormRef.validate((function(e){if(!e)return t.$message.error("请完善商品基本信息!");var r=c.a.cloneDeep(t.addForm);r.goods_cat=r.goods_cat.join(","),t.manytabledata.forEach((function(e){var r={addr_id:e.addr_id,attr_value:e.attr_vals.join(" ")};t.addForm.attrs.push(r)})),t.onlytabledata.forEach((function(e){var r={addr_id:e.addr_id,attr_value:e.attr_vals};t.addForm.attrs.push(r)})),r.attrs=t.addForm.attrs,Object(o["b"])(r).then((function(e){if(201!==e.data.meta.status)return t.$message.error("添加商品失败!");t.$message.success("添加商品成功!"),t.$router.push("/goods")}))}))}},computed:{cateid:function(){return 3===this.addForm.goods_cat.length?this.addForm.goods_cat[2]:null}}},l=s,u=(r("01dc"),r("2877")),d=Object(u["a"])(l,a,n,!1,null,"3251803f",null);e["default"]=d.exports},6547:function(t,e,r){var a=r("a691"),n=r("1d80"),o=function(t){return function(e,r){var o,i,c=String(n(e)),s=a(r),l=c.length;return s<0||s>=l?t?"":void 0:(o=c.charCodeAt(s),o<55296||o>56319||s+1===l||(i=c.charCodeAt(s+1))<56320||i>57343?t?c.charAt(s):o:t?c.slice(s,s+2):i-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},"8aa5":function(t,e,r){"use strict";var a=r("6547").charAt;t.exports=function(t,e,r){return e+(r?a(t,e).length:1)}},9263:function(t,e,r){"use strict";var a=r("ad6d"),n=r("9f7f"),o=RegExp.prototype.exec,i=String.prototype.replace,c=o,s=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=s||u||l;d&&(c=function(t){var e,r,n,c,d=this,f=l&&d.sticky,p=a.call(d),g=d.source,h=0,m=t;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),m=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(g="(?: "+g+")",m=" "+m,h++),r=new RegExp("^(?:"+g+")",p)),u&&(r=new RegExp("^"+g+"$(?!\\s)",p)),s&&(e=d.lastIndex),n=o.call(f?r:d,m),f?n?(n.input=n.input.slice(h),n[0]=n[0].slice(h),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:s&&n&&(d.lastIndex=d.global?n.index+n[0].length:e),u&&n&&n.length>1&&i.call(n[0],r,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(n[c]=void 0)})),n}),t.exports=c},"9f7f":function(t,e,r){"use strict";var a=r("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,r){"use strict";var a=r("23e7"),n=r("44ad"),o=r("fc6a"),i=r("a640"),c=[].join,s=n!=Object,l=i("join",",");a({target:"Array",proto:!0,forced:s||!l},{join:function(t){return c.call(o(this),void 0===t?",":t)}})},a434:function(t,e,r){"use strict";var a=r("23e7"),n=r("23cb"),o=r("a691"),i=r("50c4"),c=r("7b0b"),s=r("65f0"),l=r("8418"),u=r("1dde"),d=r("ae40"),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,h=Math.min,m=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var r,a,u,d,f,p,v=c(this),x=i(v.length),_=n(t,x),y=arguments.length;if(0===y?r=a=0:1===y?(r=0,a=x-_):(r=y-2,a=h(g(o(e),0),x-_)),x+r-a>m)throw TypeError(b);for(u=s(v,a),d=0;d<a;d++)f=_+d,f in v&&l(u,d,v[f]);if(u.length=a,r<a){for(d=_;d<x-a;d++)f=d+a,p=d+r,f in v?v[p]=v[f]:delete v[p];for(d=x;d>x-a+r;d--)delete v[d-1]}else if(r>a)for(d=x-a;d>_;d--)f=d+a-1,p=d+r-1,f in v?v[p]=v[f]:delete v[p];for(d=0;d<r;d++)v[d+_]=arguments[d+2];return v.length=x-a+r,u}})},a640:function(t,e,r){"use strict";var a=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&a((function(){r.call(null,e||function(){throw 1},1)}))}},ac1f:function(t,e,r){"use strict";var a=r("23e7"),n=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(t,e,r){"use strict";var a=r("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},c740:function(t,e,r){"use strict";var a=r("23e7"),n=r("b727").findIndex,o=r("44d2"),i=r("ae40"),c="findIndex",s=!0,l=i(c);c in[]&&Array(1)[c]((function(){s=!1})),a({target:"Array",proto:!0,forced:s||!l},{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o(c)},d784:function(t,e,r){"use strict";r("ac1f");var a=r("6eeb"),n=r("d039"),o=r("b622"),i=r("9263"),c=r("9112"),s=o("species"),l=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=o("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,d){var g=o(t),h=!n((function(){var e={};return e[g]=function(){return 7},7!=""[t](e)})),m=h&&!n((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[s]=function(){return r},r.flags="",r[g]=/./[g]),r.exec=function(){return e=!0,null},r[g](""),!e}));if(!h||!m||"replace"===t&&(!l||!u||f)||"split"===t&&!p){var b=/./[g],v=r(g,""[t],(function(t,e,r,a,n){return e.exec===i?h&&!n?{done:!0,value:b.call(e,r,a)}:{done:!0,value:t.call(r,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),x=v[0],_=v[1];a(String.prototype,t,x),a(RegExp.prototype,g,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}d&&c(RegExp.prototype[g],"sham",!0)}},dc10:function(t,e,r){"use strict";r.d(e,"i",(function(){return n})),r.d(e,"k",(function(){return o})),r.d(e,"b",(function(){return i})),r.d(e,"h",(function(){return c})),r.d(e,"f",(function(){return s})),r.d(e,"g",(function(){return l})),r.d(e,"a",(function(){return u})),r.d(e,"l",(function(){return d})),r.d(e,"d",(function(){return f})),r.d(e,"j",(function(){return p})),r.d(e,"m",(function(){return g})),r.d(e,"c",(function(){return h})),r.d(e,"o",(function(){return m})),r.d(e,"p",(function(){return b})),r.d(e,"e",(function(){return v})),r.d(e,"n",(function(){return x}));r("99af");var a=r("0f27");function n(){return Object(a["a"])({url:"/categories",method:"get"})}function o(t,e){return Object(a["a"])({url:"categories/".concat(t,"/attributes"),method:"get",params:e})}function i(t){return Object(a["a"])({url:"/goods",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/categories",method:"get",params:t})}function s(t){return Object(a["a"])({url:"/categories",method:"get",params:t})}function l(t){return Object(a["a"])({url:"/categories/"+t,method:"get"})}function u(t){return Object(a["a"])({url:"/categories",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/categories/"+t,method:"delete"})}function f(t,e){return Object(a["a"])({url:"/categories/"+t,method:"put",data:e})}function p(t){return Object(a["a"])({url:"/goods",method:"get",params:t})}function g(t){return Object(a["a"])({url:"/goods/"+t,method:"delete"})}function h(t,e){return Object(a["a"])({url:"/categories/".concat(t,"/attributes"),method:"post",data:e})}function m(t,e,r){return Object(a["a"])({url:"categories/".concat(t,"/attributes/").concat(e),method:"put",data:r})}function b(t,e,r){return Object(a["a"])({url:"categories/".concat(t,"/attributes/").concat(e),method:"get",params:r})}function v(t,e,r){return Object(a["a"])({url:"categories/".concat(t,"/attributes/").concat(e),method:"put",data:r})}function x(t,e){return Object(a["a"])({url:"categories/".concat(t,"/attributes/").concat(e),method:"delete"})}},e9a9:function(t,e,r){},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-3c030589.4f235a13.js.map